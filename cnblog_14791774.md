---
title: åºåˆ—æ‹†åˆ†åŠæ‰¹é‡å½’ç±»è‡³æ–‡ä»¶å¤¹ï¼ˆv1ï¼‰
date: 2021-05-20 13:54:00
categories:
- ç¬”è®°
- åšå®¢å›­
tags:
- åšå®¢å›­
- æ¬å®¶
- cnblogs
---
# [è¿™æ˜¯ğŸ‘‰åºåˆ—æ‹†åˆ†åŠæ‰¹é‡å½’ç±»è‡³æ–‡ä»¶å¤¹ï¼ˆv1ï¼‰ğŸ‘ˆçš„æ‘˜è¦](../../../../2021/05/20/cnblog_14791774/)
<!--more-->
æ‹¿åˆ°ä¸€å †çº¿ç²’ä½“rnaçš„coIåºåˆ—ï¼Œç”±äºå…¨éƒ¨åºåˆ—éƒ½æ”¾åœ¨ä¸€ä¸ªtxtæ–‡ä»¶é‡Œé¢ï¼Œå› ä¸ºåæœŸéœ€è¦æŠŠæ¯ä¸€ä¸ªåºåˆ—å•ç‹¬æ‹¿å‡ºæ¥fasæ–‡ä»¶ï¼Œç„¶åæ ¹æ®ä¸€ä¸ªè¡¨æ ¼åˆ†ç±»åˆ°ç§ã€‚è¦æ‰‹åŠ¨å¤åˆ¶ç²˜è´´ä¸çŸ¥é“è¦èŠ±å¤šä¹…ï¼Œæ‰€ä»¥å°±ç”¨pythonè‡ªåŠ¨åŒ–ä¸€ä¸‹ã€‚
v1 æ•´ä¸ªè¿‡ç¨‹åˆ†ä¸‰æ­¥ 1.æ‹†åˆ†ä¸ºä»¥ç¼©å†™å‘½åçš„å•ä¸ªæ–‡ä»¶ ``` #split into single seq import os import pandas
as pd from tst import bad_val file_path=os.path.abspath(r"E:\æ–°å»ºæ–‡ä»¶å¤¹\æ–°å»ºæ–‡ä»¶å¤¹")
df_E2a = pd.read_excel("E2a.xlsx") df_ce2e =
pd.read_excel("E:\pythonProject1\CE2E.xlsx") df_E2a.index = df_E2a['ab.'] a =
">" f=open(r'E:\æ–°å»ºæ–‡ä»¶å¤¹\æ–°å»ºæ–‡ä»¶å¤¹\COI(1).fas') for line in f: if
line.startswith(">"): new=line.lstrip('>').strip('\n') if new in bad_val: full
= 'Not found!'+ new else: full = df_E2a.name[df_E2a['ab.'].loc[new]] outfile =
open("E:\æ–°å»ºæ–‡ä»¶å¤¹\æ–°å»ºæ–‡ä»¶å¤¹\db\\\"+"%s"%new + '.' + 'fas',"w")
outfile.write(line+next(f)) outfile.close() print("Finished") ```
2.å°†åŒä¸€ç‰©ç§çš„åºåˆ—å½’ç±»ï¼Œæ”¾å…¥ä»¥ç‰©ç§å‘½åçš„æ–‡ä»¶å¤¹ #classify import os # osæ˜¯ç”¨æ¥åˆ‡æ¢è·¯å¾„å’Œåˆ›å»ºæ–‡ä»¶å¤¹çš„ã€‚ import pandas
as pd from tst import bad_val from shutil import copy # shutil æ˜¯ç”¨æ¥å¤åˆ¶é»è´´æ–‡ä»¶çš„
df_E2a = pd.read_excel("E2a.xlsx") df_E2a.index = df_E2a['ab.'] file_path =
r'E:\æ–°å»ºæ–‡ä»¶å¤¹\æ–°å»ºæ–‡ä»¶å¤¹\db' # æƒ³æ‹†åˆ†çš„æ–‡ä»¶å¤¹æ‰€åœ¨è·¯å¾„,ä¹Ÿå°±æ˜¯ä¸€å¤§å †æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ save_dir =
r'E:\æ–°å»ºæ–‡ä»¶å¤¹\æ–°å»ºæ–‡ä»¶å¤¹\class' # save_dir æ˜¯æƒ³æŠŠå¤åˆ¶å‡ºæ¥çš„æ–‡ä»¶å­˜æ”¾åœ¨çš„è·¯å¾„ # è·å– file_path ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ—è¡¨
# å› ä¸º file_path é‡Œé¢æ²¡æœ‰æ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥ä¸å¤„ç†æœ‰æ–‡ä»¶å¤¹çš„æƒ…å†µ pathDir = os.listdir(file_path) #
os.listdir(file_path) æ˜¯è·å–æŒ‡å®šè·¯å¾„ä¸‹åŒ…å«çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åˆ—è¡¨ for filename in pathDir: #
éå†pathDirä¸‹çš„æ‰€æœ‰æ–‡ä»¶filename file_name = filename.split('.')[0] if file_name in
bad_val: full = '!Not found!' else: full =
df_E2a.name[df_E2a['ab.'].loc[file_name]] dir_name = full.strip() # æ–°çš„æ–‡ä»¶å¤¹çš„å‘½å
from_path = os.path.join(file_path, filename) # æ—§æ–‡ä»¶çš„ç»å¯¹è·¯å¾„(åŒ…å«æ–‡ä»¶çš„åç¼€å) to_path =
save_dir + "\\\" + dir_name # æ–°æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ if not os.path.isdir(to_path): # å¦‚æœ
to_path ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º os.makedirs(to_path) copy(from_path, to_path) # å®Œæˆå¤åˆ¶é»è´´
3.å‘ç°txtæ–‡ä»¶ä¸­çš„ç¼©å†™ä¸ç‰©ç§åè¡¨æ ¼çš„ç¼©å†™éƒ¨åˆ†ä¸ç›¸åŒï¼Œæš‚æ—¶å¤„ç†ï¼šæ‰¾å‡ºæ— æ³•åŒ¹é…çš„ç¼©å†™å•ç‹¬æ”¾å…¥ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œäººå·¥å¤„ç† ``` #find the
unmatched value import pandas as pd import difflib bad_val = [] df_E2a =
pd.read_excel("E2a.xlsx") f=open(r'E:\æ–°å»ºæ–‡ä»¶å¤¹\æ–°å»ºæ–‡ä»¶å¤¹\COI(1).fas') for line in f:
if line.startswith(">"): new=line.lstrip('>').strip('\n')
a=difflib.get_close_matches(new,df_E2a['ab.'],1, cutoff=1) if len(a)==0:
bad_val.append(new) ```


